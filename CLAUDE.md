# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This repository is focused on AI-based peer review of academic papers. The current implementation includes:

1. A collection of peer reviews generated by different AI models (in the `putiken` directory) for a bioRxiv preprint about mu-opioid receptors and pleasure responses to music
2. A minimal Python package structure (`ai_peer_review`) that is still in early development stages.

## Coding standards

- do not include code in __init__.py files
- use pytest for testing
- use uv for package management


## Repository Structure

- `putiken/`: Contains AI-generated peer reviews of a specific bioRxiv preprint by different AI models 
- `src/ai_peer_review/`: Main Python package (currently minimal)
- `pyproject.toml`: Package configuration

## Development Setup

The project uses Python 3.13+ and appears to be configured with hatchling as the build system.

```bash
# Create and activate virtual environment
python -m venv .venv
source .venv/bin/activate  # On Windows: .venv\Scripts\activate

# Install in development mode
pip install -e .
```

## Running the Code

The package defines a CLI entry point:

```bash
# Run the CLI tool
ai-peer-review
```

Currently, this simply prints "Hello from ai-peer-review!"

## Project Context

The package should enable the following function:

1) ingest a PDF file for review
2) submit the paper to a number of LLMs with the following prompt:

"You are a neuroscientist and expert in brain imaging who has been asked to provide a peer review for a submitted research paper, which is attached here.  Please provide a thorough and critical review of the paper. First provide a summary of the study and its results, and then provide a detailed point-by-point analysis of any flaws in the study."

Use the following LLMs:
- GPT-4 o1
- GPT4 o3-mini
- Claude Sonnet 3.7
- Google Gemini 2.5 Pro
- DeepSeek R1
- Llama 4 Maverick

3) Feed each of the reviews to an LLM (currently Google Gemini 2.5 Pro) with the following prompt:

"The attached files contain peer reviews of a research article. Please summarize these into a meta-review, highlighting both the common points raised across reviewers as well as any specific concerns that were only raised by some reviewers.  Then rank the reviews in terms of their usefulness and identification of critical issues."

Before feeding the individual reviews into the meta-review, remove any identifiers for the LLM, so that the meta-reviewer will not know which review was generated by which LLM.

4) store the individal reviews and metareview/ratings in a json file.
